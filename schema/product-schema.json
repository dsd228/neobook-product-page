{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["producto"],
  "properties": {
    "producto": {
      "type": "object",
      "required": ["id","titulo","precio","imagenes"],
      "properties": {
        "id": {"type":"string"},
        "titulo": {"type":"string"},
        "marca": {"type":"string"},
        "modelo": {"type":"string"},
        "precio": {
          "type": "object",
          "required":["moneda","precio_actual"],
          "properties":{
            "moneda":{"type":"string","enum":["USD","EUR","MXN","ARS"]},
            "precio_actual":{"type":"number","minimum":0},
            "precio_original":{"type":"number","minimum":0},
            "descuento_porcentaje":{"type":"number","minimum":0,"maximum":100}
          }
        },
        "imagenes": {
          "type":"array",
          "minItems":1,
          "items": {
            "type":"object",
            "required":["posicion","tipo","url","alt"],
            "properties":{
              "posicion":{"type":"integer","minimum":1},
              "tipo":{"type":"string"},
              "url":{"type":"string","format":"uri"},
              "alt":{"type":"string"}
            }
          }
        },
        "promociones": {
          "type": "object",
          "properties": {
            "activa": {"type":"boolean"},
            "tipo": {"type":"string"},
            "valor": {"type":"number","minimum":0},
            "codigo_cupon": {"type":"string"},
            "descuento_cupon": {"type":"number","minimum":0,"maximum":1},
            "fecha_inicio": {"type":"string","format":"date"},
            "fecha_fin": {"type":"string","format":"date"}
          }
        },
        "envio": {
          "type": "object",
          "properties": {
            "gratuito": {"type":"boolean"},
            "tiempo_entrega": {"type":"string"},
            "cobertura": {"type":"string"}
          }
        },
        "stock": {"type":"integer","minimum":0}
      }
    }
  }
}
